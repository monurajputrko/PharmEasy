var productArray = [{
    id : 1,
    name : "Pharmeasy Hot Water Bag",
    img_url : "https://cdn01.pharmeasy.in/dam/products_otc/B39499/pharmeasy-hot-water-bag-relieves-pain-relaxes-sore-muscles-improves-blood-supply-blue-2l-2-1671777719.jpg",
    price : 399,
    finalPrice : 249,
    btn : "Add To Cart",
    img1 :"https://cdn01.pharmeasy.in/dam/products_otc/B39499/pharmeasy-hot-water-bag-relieves-pain-relaxes-sore-muscles-improves-blood-supply-blue-2l-2-1671777719.jpg?dim=100x0&dpr=1&q=100",
    img2 :"https://cdn01.pharmeasy.in/dam/products_otc/B39499/pharmeasy-hot-water-bag-relieves-pain-relaxes-sore-muscles-improves-blood-supply-blue-2l-6.1-1671777721.jpg?dim=100x0&dpr=1&q=100",
    quantity : 1,
    total : '249'
},
   { id : 2,
    name : "Liveasy Sugarfree Chyavanposh",
    img_url : "https://cdn01.pharmeasy.in/dam/products_otc/Q79438/liveasy-foods-sugarfree-chyavanposh-900-gms-gives-2x-immunity-boosts-energy-2-1681475689.jpg?dim=700x0&dpr=1&q=100",
    price : 399 ,
    finalPrice : 299.5,
    btn : "Add To Cart",
    img1 :"https://cdn01.pharmeasy.in/dam/products_otc/Q79438/liveasy-foods-sugarfree-chyavanposh-900-gms-gives-2x-immunity-boosts-energy-2-1681475689.jpg?dim=100x0&dpr=1&q=100",
    img2 :"https://cdn01.pharmeasy.in/dam/products_otc/Q79438/liveasy-foods-sugarfree-chyavanposh-900-gms-gives-2x-immunity-boosts-energy-2-1681475689.jpg?dim=100x0&dpr=1&q=100",
    quantity : 1,
    total : '299.5' 
},
   { id : 3,
    name : "Baidyanath Nagpur Honey",
    img_url : "https://cdn01.pharmeasy.in/dam/products_otc/X84442/baidyanath-nagpur-honey-natural-immunity-booster-1-kg-2-1671744542.jpg?dim=700x0&dpr=1&q=100",
    price : 420,
    finalPrice : 330.50,
    btn : "Add To Cart",
    img1 :"https://cdn01.pharmeasy.in/dam/products_otc/X84442/baidyanath-nagpur-honey-natural-immunity-booster-1-kg-2-1671744542.jpg?dim=100x0&dpr=1&q=100",
    img2 :"https://cdn01.pharmeasy.in/dam/products_otc/X84442/baidyanath-nagpur-honey-natural-immunity-booster-1-kg-6.1-1671744537.jpg?dim=100x0&dpr=1&q=100",
    quantity : 1,
    total : '330.50'
    
}, 
   { id : 4,
    name : "Neuherbs Apple Cider Vinegar",
    img_url : "https://cdn01.pharmeasy.in/dam/products_otc/V07060/neuherbs-organic-apple-cider-vinegar-bottle-of-500-ml-2-1654255900.jpg?dim=700x0&dpr=1&q=100",
    price : 399,
    finalPrice : 299,
    btn : "Add To Cart",
    img1 :"https://cdn01.pharmeasy.in/dam/products_otc/V07060/neuherbs-organic-apple-cider-vinegar-bottle-of-500-ml-2-1654255900.jpg?dim=100x0&dpr=1&q=100",
    img2 :"https://cdn01.pharmeasy.in/dam/products_otc/V07060/neuherbs-organic-apple-cider-vinegar-bottle-of-500-ml-6.1-1641788910.jpg?dim=100x0&dpr=1&q=100",
    quantity : 1,
    total : '299'
    
},
   { id : 5,
    name : "Ensure Chocolate Nutrition Drink",
    img_url : "https://cdn01.pharmeasy.in/dam/products_otc/R82293/ensure-chocolate-nutrition-drink-refill-of-400-g-2-1664192516.jpg?dim=700x0&dpr=1&q=100",
    price : 800,
    finalPrice : 715,
    btn : "Add To Cart",
    img1 :"https://cdn01.pharmeasy.in/dam/products_otc/R82293/ensure-chocolate-nutrition-drink-refill-of-400-g-2-1664192516.jpg?dim=100x0&dpr=1&q=100",
    img2 :"https://cdn01.pharmeasy.in/dam/products_otc/R82293/ensure-chocolate-nutrition-drink-refill-of-400-g-2.1-1664192482.jpg?dim=100x0&dpr=1&q=100",
    quantity : 1,
    total : '715'
   
},
   { id : 6,
    name : "Protinex Nutritional Drink",
    img_url : "https://cdn01.pharmeasy.in/dam/products_otc/I48398/protinex-rich-chocolate-nutrition-drink-refill-of-750-g-2-1678708702.jpg?dim=700x0&dpr=1&q=100",
    price : 1190,
    finalPrice : 1170,
    btn : "Add To Cart",
    img1 :"https://cdn01.pharmeasy.in/dam/products_otc/I48398/protinex-nutritional-drink-mix-for-adults-for-everyday-health-with-high-protein-rich-chocolate-750g-2-1685706605.jpg?dim=100x0&dpr=1&q=100",
    img2 :"https://cdn01.pharmeasy.in/dam/products_otc/I48398/protinex-rich-chocolate-nutrition-drink-refill-of-750-g-6.1-1678708607.jpg?dim=100x0&dpr=1&q=100",
    quantity : 1,
    total : '1170'
    
},
   { id : 7,
    name : "Nepro Hp Vanilla Toffee Flavour",
    img_url : "https://cdn01.pharmeasy.in/dam/products_otc/241592/nepro-hp-vanilla-nutrition-drink-tin-of-400-g-2-1669634977.jpg?dim=700x0&dpr=1&q=100",
    price : 1115 ,
    finalPrice : 1103.05,
    btn : "Add To Cart",
    img1 :"https://cdn01.pharmeasy.in/dam/products_otc/241592/nepro-hp-vanilla-nutrition-drink-tin-of-400-g-2-1669634977.jpg?dim=100x0&dpr=1&q=100",
    img2 :"https://cdn01.pharmeasy.in/dam/products_otc/241592/nepro-hp-vanilla-nutrition-drink-tin-of-400-g-6.1-1669634975.jpg?dim=100x0&dpr=1&q=100",
    quantity : 1,
    total : '1103.05'
},
   { id : 8,
    name : "Prohance Junior Nutrition Powder",
    img_url : "https://cdn01.pharmeasy.in/dam/products_otc/O79657/prohance-junior-nutrition-powder-vanilla-400g-2-1671742720.jpg?dim=700x0&dpr=1&q=100",
    price : 590,
    finalPrice : 584,
    btn : "Add To Cart",
    img1 :"https://cdn01.pharmeasy.in/dam/products_otc/O79657/prohance-junior-nutrition-powder-vanilla-400g-2-1671742720.jpg?dim=100x0&dpr=1&q=100",
    img2 :"https://cdn01.pharmeasy.in/dam/products_otc/O79657/prohance-junior-nutrition-powder-vanilla-400g-6.1-1671742721.jpg?dim=100x0&dpr=1&q=100",
    quantity : 1,
    total : '584'
   
},
   { id : 9,
    name : "Venusia Max Intensive Moisturizing Cream",
    img_url : "https://cdn01.pharmeasy.in/dam/products_otc/180461/venusia-max-intensive-moisturizing-cream-for-dry-to-very-dry-skin-repairs-smoothens-skin-150g-2-1671740862.jpg?dim=700x0&dpr=1&q=100",
    price : 554,
    finalPrice : 504,
    btn : "Add To Cart",
    img1 :"https://cdn01.pharmeasy.in/dam/products_otc/180461/venusia-max-intensive-moisturizing-cream-for-dry-to-very-dry-skin-repairs-smoothens-skin-150g-2-1671740862.jpg?dim=100x0&dpr=1&q=100",
    img2 :"https://cdn01.pharmeasy.in/dam/products_otc/180461/venusia-max-intensive-moisturizing-cream-for-dry-to-very-dry-skin-repairs-smoothens-skin-150g-3-1671740861.jpg?dim=100x0&dpr=1&q=100",
    quantity : 1,
    total : '504'
    
},
   { id : 10,
    name : "Himalaya Purifying Neem Face Wash",
    img_url : "https://cdn01.pharmeasy.in/dam/products_otc/I35289/himalaya-purifying-neem-face-wash-150ml-2-1669710354.jpg?dim=700x0&dpr=1&q=100",
    price : 230,
    finalPrice : 205,
    btn : "Add To Cart",
    img1 :"https://cdn01.pharmeasy.in/dam/products_otc/I35289/himalaya-purifying-neem-face-wash-150ml-2-1669710354.jpg?dim=100x0&dpr=1&q=100",
    img2 : "https://cdn01.pharmeasy.in/dam/products_otc/I35289/himalaya-purifying-neem-face-wash-150ml-2-1669710354.jpg?dim=100x0&dpr=1&q=100",
    quantity : 1,
    total : '205'
},
   { id : 11,
    name : "Lite Glo Face Wash Tube",
    img_url : "https://cdn01.pharmeasy.in/dam/products_otc/C84012/lite-glo-face-wash-tube-of-100-ml-2-1654165477.jpg?dim=700x0&dpr=1&q=100",
    price : 449,
    finalPrice : 431,
    btn : "Add To Cart",
    img1 :"https://cdn01.pharmeasy.in/dam/products_otc/C84012/lite-glo-face-wash-tube-of-100-ml-2-1654165477.jpg?dim=100x0&dpr=1&q=100",
    img2 :"https://cdn01.pharmeasy.in/dam/products_otc/C84012/lite-glo-face-wash-tube-of-100-ml-3-1654165469.jpg?dim=100x0&dpr=1&q=100",
    quantity : 1,
    total : '431'
   
},
   { id : 12,
    name : "Tonenglo Face Wash ",
    img_url : "https://cdn01.pharmeasy.in/dam/products_otc/255436/tonenglo-face-wash-tube-of-100-g-2-1671740990.jpg?dim=700x0&dpr=1&q=100",
    price : 338,
    finalPrice : 290,
    btn : "Add To Cart",
    img1 :"https://cdn01.pharmeasy.in/dam/products_otc/255436/tonenglo-face-wash-tube-of-100-g-2-1671740990.jpg?dim=100x0&dpr=1&q=100",
    img2 :"https://cdn01.pharmeasy.in/dam/products_otc/255436/tonenglo-face-wash-tube-of-100-g-3-1671740989.jpg?dim=100x0&dpr=1&q=100",
    quantity : 1,
    total : '290'
   
},
   { id : 13,
    name : "Nivea Soft Light Moisturizer",
    img_url : "https://cdn01.pharmeasy.in/dam/products_otc/I40923/nivea-soft-light-moisturizer-of-200-ml-2-1679372250.jpg?dim=700x0&dpr=1&q=100",
    price : 269,
    finalPrice : 242,
    btn : "Add To Cart",
    img1 :"https://cdn01.pharmeasy.in/dam/products_otc/I40923/nivea-soft-light-moisturizer-of-200-ml-2-1679372250.jpg?dim=100x0&dpr=1&q=100",
    img2 :"https://cdn01.pharmeasy.in/dam/products_otc/I40923/nivea-soft-light-moisturizer-of-200-ml-3-1679372241.jpg?dim=100x0&dpr=1&q=100",
    quantity : 1,
    total : '242'
    
},
   { id : 14,
    name : "Nycil Cool Herbal Talcum Powder",
    img_url : "https://cdn01.pharmeasy.in/dam/products_otc/T84523/nycil-cool-herbal-prickly-heat-talcum-powder-150gm-cool-herbal-50g-free-2-1680170907.jpg?dim=700x0&dpr=1&q=100",
    price : 145,
    finalPrice : 133.5,
    btn : "Add To Cart",
    img1 :"https://cdn01.pharmeasy.in/dam/products_otc/T84523/nycil-cool-herbal-prickly-heat-talcum-powder-150gm-cool-herbal-50g-free-2-1680170907.jpg?dim=100x0&dpr=1&q=100",
    img2 :"https://cdn01.pharmeasy.in/dam/products_otc/T84523/nycil-cool-herbal-prickly-heat-talcum-powder-150gm-cool-herbal-50g-free-6.1-1680170825.jpg?dim=100x0&dpr=1&q=100",
    quantity : 1,
    total : '133.5'
    
},
   { id : 15,
    name : "Veet Pure Hair Removal Cream",
    img_url : "https://cdn01.pharmeasy.in/dam/products_otc/M47114/veet-pure-hair-removal-cream-for-women-with-no-ammonia-smell-normal-skin-30g-2-1656923503.jpg?dim=700x0&dpr=1&q=100",
    price : 90,
    finalPrice : 89,
    btn : "Add To Cart",
    img1 :"https://cdn01.pharmeasy.in/dam/products_otc/M47114/veet-pure-hair-removal-cream-for-women-with-no-ammonia-smell-normal-skin-30g-2-1656923503.jpg?dim=100x0&dpr=1&q=100",
    img2 :"https://cdn01.pharmeasy.in/dam/products_otc/M47114/veet-pure-hair-removal-cream-for-women-with-no-ammonia-smell-normal-skin-30g-6.1-1656923489.jpg?dim=100x0&dpr=1&q=100",
    quantity : 1,
    total : '89'
    
},
   { id : 16,
    name : "Venusia Moisturizing Lotion",
    img_url : "https://cdn01.pharmeasy.in/dam/products_otc/242434/venusia-moisturizing-lotion-non-comedogenic-bottle-of-200-ml-2-1671740816.jpg?dim=700x0&dpr=1&q=100",
    price : 599,
    finalPrice : 557,
    btn : "Add To Cart",
    img1 :"https://cdn01.pharmeasy.in/dam/products_otc/209143/venusia-moisturizing-lotion-100ml-2-1669655213.jpg?dim=100x0&dpr=1&q=100",
    img2 :"https://cdn01.pharmeasy.in/dam/products_otc/242434/venusia-moisturizing-lotion-non-comedogenic-bottle-of-200-ml-3-1671740810.jpg?dim=100x0&dpr=1&q=100",
    quantity : 1,
    total : '557'
   
}
]

displayProduct(productArray);

function handleSortName(){
   var selected = document.getElementById("sortName").value;
   if(selected === 'Ascending Order'){
       productArray.sort(function(a,b){
           if(a.name>b.name){
               return 1;
           }
           else if(a.name<b.name){
               return -1;
           }
           else{
               return 0;
           }
       })
   }
   if(selected === 'Descending Order'){
       productArray.sort(function(a,b){
           if(a.name>b.name){
               return -1;
           }
           else if(a.name<b.name){
               return 1;
           }
           else{
               return 0;
           }
       })
   }
   console.log(productArray);
   document.getElementById("parentAshu-1").innerHTML="";
   displayProduct(productArray);
}

function handleSortPrice(){
   var selected = document.getElementById("sortPrice").value;
   // console.log(selected);
   if(selected === 'Low to High'){
       productArray.sort(function(a,b){
        return a.finalPrice - b.finalPrice;
       });
   }
   if(selected === 'High to Low'){
       productArray.sort(function(a,b){
        return b.finalPrice - a.finalPrice;
       });
   }
   // console.log(productArray);
   document.getElementById("parentAshu-1").innerHTML="";
   displayProduct(productArray);
}




function displayProduct(productArray){
   productArray.map(function(elem){
       var div = document.createElement("div");
       var image = document.createElement("img");
       image.setAttribute("src",elem.img_url);
       image.setAttribute("alt",elem.name);

       var name = document.createElement("h3");
       name.textContent = elem.name;

       var priceBox = document.createElement("div");

       var finalPrice = document.createElement("p");
       finalPrice.textContent = "MRP ₹ "+elem.finalPrice;

       var price = document.createElement("p");
       price.textContent = "MRP ₹ "+ elem.price;

       var button = document.createElement("button");
       button.textContent = elem.btn;
       button.addEventListener("click",function(){
           addtocart(elem);
       });

       div.addEventListener("click",function(){
           displayInfo(elem);
       })
       div.addEventListener("click",function(){
             navToNextPage(elem);
           });

       priceBox.append(price,finalPrice);

       div.append(image,name,priceBox,button);
       document.getElementById("parentAshu-1").append(div);

   })
}
 
function addtocart(elem){
var cartarr = JSON.parse(localStorage.getItem("cartproducts")) || [];
cartarr.push(elem);
localStorage.setItem("cartproducts", JSON.stringify(cartarr));
}



var product_desc = [];
     function navToNextPage(product){
     product_desc.push(product);
     localStorage.setItem("Prodct-Data",JSON.stringify(product_desc));
     window.location.href="../../monu/Product-Details/product-detail.html";
 }

var products = JSON.parse(localStorage.getItem("productInfo")) || [];

function displayInfo(productArray){
   products.push(productArray)
   localStorage.setItem("productInfo",JSON.stringify(products));
   link.setAttribute("href",productDetails.html);   
}